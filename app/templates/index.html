<html>

<head>
  <title>Brewer</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.1/css/bulma.css">
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.2/vue.min.js"></script>
  <link rel="stylesheet" href="{{ url_for("static", filename="styles.css") }}">
</head>

<body>
  <section class="hero is-primary">
    <div class="hero-body">
      <div class="container">
        <h1 class="title">
          Brewer
        </h1>
        <h2 class="subtitle">
          A decent looking interface
        </h2>
      </div>
    </div>
  </section>

  <div class="container">
    <div class="columns">
      <div id="recipe" class="column is-10 is-offset-1">

        <br>
        <h1 class="title">
          Load a recipe
        </h1>
        <hr>
        <div class="select">
          <select v-model="selected">
            {% if recipes %}
              {% for recipe in recipes %}
                <option value="{{ recipe.id }}">{{ recipe.name }}</option>
              {% endfor %}
            {% endif %}
            <option value="create">Create new recipe...</option>
          </select>
        </div>

        <!-- Show Selected Recipe -->
        {% for recipe in recipes %}
          <div class="box" v-if="selected == {{ recipe.id }}">
            <h1 class="title">{{ recipe.name }}</h1>
            <ul>
              <li>Water: {{ recipe.name }}</li>
              <li>Grain: {{ recipe.grain }}</li>
            </ul>
          </div>
        {% endfor %}
        <!-- Create New Recipe  -->
        <div id="create-recipe" v-if="selected == 'create'">
          <h1 class="title">
            <br>
            New Recipe
          </h1>
          <!-- Create Recipe form -->
          <form action="/create-recipe" method="POST">
            <div class="box">
              <!-- Name Field -->
              <div class="field">
                <label class="label">Recipe name</label>
                <div class="control">
                  <input class="input" name="name" type="text" placeholder="Recipe Name">
                </div>
              </div>

              <hr>

              <!-- Grain Amount Number Field -->
              <div class="field">
                <label class="label">Grain Amount in Pounds</label>
                <div class="control">
                  <input class="input" name="grain" type="number" placeholder="Grain Amount in Pounds">
                </div>
              </div>

              <!-- Water Amount Number Field -->
              <div class="field">
                <label class="label">Water Amount in Quarts</label>
                <div class="control">
                  <input class="input" name="water" type="number" placeholder="Water Amount in Quarts">
                </div>
              </div>

              <!-- Grain Temp Number Field -->
              <div class="field">
                <label class="label">Grain Temperature</label>
                <div class="control">
                  <input class="input" name="grain_temp" type="number" placeholder="Grain Temperature (f)">
                </div>
              </div>

              <!-- Mash Time Number Field -->
              <div class="field">
                <label class="label">Mash Time</label>
                <div class="control">
                  <input class="input" name="mash_time" type="number" placeholder="Mash Time in Minutes">
                </div>
              </div>

              <!-- Mash Temp Number Field -->
              <div class="field">
                <label class="label">Mash Temperature</label>
                <div class="control">
                  <input class="input" name="mash_temp" type="number" placeholder="Mash Temperature (f)">
                </div>
              </div>

              <!-- Submit -->
              <button type="submit" class="button is-primary">
                Submit
              </button>


            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="{{ url_for("static", filename="main.js") }}"></script>
  <script>
    var recipe = new Vue({
        el: "#recipe",
        delimiters: ["[[", "]]"],
        data: {
          selected: '',
        }
      })
  </script>

</body>

</html>


